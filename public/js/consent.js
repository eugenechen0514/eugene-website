function ConsentBanner(n,e,t){this.policyPage=n,this.scrollAmount=t,this.consentIsSet="unknown",this.cookieConsent="cookieConsent=";for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var i=o[s].trim();if(0==i.indexOf(this.cookieConsent)){this.consentIsSet=i.substring(this.cookieConsent.length,i.length);break}}var c=this;if("true"==this.consentIsSet)this.doConsent();else{if(this.setPlaceholders("block"),"unknown"==this.consentIsSet)$("#consentBanner").css("display","block"),location.pathname.substr(location.pathname.lastIndexOf("/")+1)!=this.policyPage&&null!=this.scrollAmount&&this.activateScrollCheck(),e||$("a:not(.noConsent,.denyConsent,.removeConsent)").click(function(n){c.grantConsent()});$(".allowConsent").click(function(n){n.preventDefault(),c.grantConsent()})}"false"!=this.consentIsSet&&$(".denyConsent").click(function(n){n.preventDefault(),c.denyConsent()}),$(".removeConsent").click(function(n){n.preventDefault(),c.removeConsent()})}ConsentBanner.prototype.setCookie=function(n,e){window.console&&console.log(n),$("#consentBanner").fadeOut(500);var t=new Date;t.setTime(t.getTime()+31536e6);var o="expires="+t.toGMTString();document.cookie=this.cookieConsent+e+"; "+o+";path=/",this.consentIsSet=e},ConsentBanner.prototype.removeCookie=function(n){window.console&&console.log(n),document.cookie=this.cookieConsent+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",this.consentIsSet="false"},ConsentBanner.prototype.removeConsent=function(){"unknown"!=this.consentIsSet&&(this.removeCookie("Consent removed"),window.location.reload(!1))},ConsentBanner.prototype.denyConsent=function(){if("false"!=this.consentIsSet){var n="true"==this.consentIsSet;this.setCookie("Consent denied","false"),$(window).unbind("scroll"),$("a:not(.noConsent, .denyConsent, .removeConsent)").unbind("click"),n&&window.location.reload(!1)}},ConsentBanner.prototype.grantConsent=function(){"true"!=this.consentIsSet&&(this.setCookie("Consent granted","true"),window.gaf&&window.gaf(),this.doConsent())},ConsentBanner.prototype.activateScrollCheck=function(){var n=this;$(window).scroll(function(){$(window).scrollTop()>n.scrollAmount&&n.grantConsent()})},ConsentBanner.prototype.doConsent=function(){window.console&&console.log("Consent was granted"),this.setPlaceholders("none"),this.activateScripts(),this.activateSources(),this.activateEmbeds()},ConsentBanner.prototype.activateScripts=function(){$(".activateAfterConsent").each(function(){$(this).replaceWith(eval($(this).text()))})},ConsentBanner.prototype.activateSources=function(){$(".activateSrcAfterConsent").each(function(){var n=$(this).attr("disabledsrc");$(this).removeAttr("disabledsrc"),$(this).attr("src",n)})},ConsentBanner.prototype.require=function(n,e,t,o){if(null!==e||null!==t){var s=document.createElement("script");if(null===t)document.getElementsByTagName("head")[0].appendChild(s),s.onload=function(){return o(o)},s.onreadystatechange=function(){"complete"==this.readyState&&o(o)};else $(n).before(s);for(var i=null!==e?e.length:0,c=0;c<i;c++)s.setAttribute(e[c][0],e[c][1]);if(null!==t){try{s.appendChild(document.createTextNode(t))}catch(n){s.text=t}o(o)}}else o(o)},ConsentBanner.prototype.activateEmbeds=function(){var consentBanner=this;$(".activateEmbedAfterConsent").each(function(){var html=JSON.parse(eval($(this).text())),els=jQuery.parseHTML(html,document,!1);$(this).before(els);var scriptRe=/<script\b([^>]*?)>([\s\S]*?)<\/script>/gi,attrsRe=/([^\s=]+)(=[\"|\']([^'"]+)[\'|\"])?/gi,processScript=function(n,e,t,o){return function(s){var i=e.exec(n);if(null!=i){for(var c,r=null,a=null,l=new Array;null!=(c=t.exec(i[1]));)"src"==c[1]&&(r=c[3]),l.push([c[1],void 0!==c[3]?c[3]:""]);void 0!==i[2]&&i[2].length?a=i[2]:null!=r&&(void 0===consentBanner.scripts&&(consentBanner.scripts=new Array),0==consentBanner.scripts.includes(r)?consentBanner.scripts.push(r):l=null),consentBanner.require(o,l,a,s)}else $(o).remove()}}(html,scriptRe,attrsRe,this);processScript(processScript)})},ConsentBanner.prototype.setPlaceholders=function(n){$(".mapPlaceholder").each(function(){$(this).css("display",n)}),$(".videoPlaceholder").each(function(){$(this).css("display",n)}),$(".twitterPlaceholder").each(function(){$(this).css("display",n)}),$(".facebookPlaceholder").each(function(){$(this).css("display",n)}),$(".instagramPlaceholder").each(function(){$(this).css("display",n)})};
